<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teknix Logo Explorer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #0e1217; }
        .canvas-card:hover .copy-overlay { opacity: 1; }
    </style>
</head>
<body class="text-gray-200 min-h-screen">

    <div class="max-w-7xl mx-auto px-6 py-10">
        <h1 class="text-3xl font-bold mb-2">TEKNIX LOGO EXPLORER</h1>
        <p class="text-gray-400 mb-8">Th∆∞ vi·ªán qu·∫£n l√Ω t√†i nguy√™n thi·∫øt k·∫ø Teknix.</p>

        <div class="flex flex-col md:flex-row gap-4 mb-8">
            <div class="relative flex-1">
                <input type="text" id="searchInput" placeholder="T√¨m ki·∫øm asset..." 
                    class="w-full bg-[#1c2128] border border-gray-700 rounded-lg py-2.5 px-4 focus:outline-none focus:border-blue-500 transition-all">
            </div>
            <div class="flex gap-2 overflow-x-auto pb-2" id="filterTabs">
                <button onclick="filterFiles('all')" class="tab-btn bg-blue-600 text-white px-5 py-2.5 rounded-lg text-sm font-medium">T·∫•t c·∫£</button>
                <button onclick="filterFiles('white')" class="tab-btn bg-[#1c2128] hover:bg-gray-700 px-5 py-2.5 rounded-lg text-sm font-medium transition">White</button>
                <button onclick="filterFiles('blue')" class="tab-btn bg-[#1c2128] hover:bg-gray-700 px-5 py-2.5 rounded-lg text-sm font-medium transition">Blue</button>
                <button onclick="filterFiles('full-color')" class="tab-btn bg-[#1c2128] hover:bg-gray-700 px-5 py-2.5 rounded-lg text-sm font-medium transition">Full Color</button>
            </div>
        </div>

        <div id="gallery" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-5">
            </div>
    </div>

    <div id="toast" class="fixed bottom-10 left-1/2 -translate-x-1/2 bg-blue-600 text-white px-6 py-3 rounded-full shadow-2xl opacity-0 transition-opacity pointer-events-none font-medium">
        ƒê√£ sao ch√©p li√™n k·∫øt!
    </div>

    <script>
        const REPO_PATH = 'teknixcorp/teknix-logo';
        let allFiles = [];

        async function init() {
            try {
                const res = await fetch(`https://api.github.com/repos/${REPO_PATH}/contents/`);
                const data = await res.json();
                allFiles = data.filter(f => f.name.match(/\.(svg|png|jpg|jpeg)$/i));
                render(allFiles);
            } catch (e) { console.error("L·ªói fetch API:", e); }
        }

        function render(files) {
            const gallery = document.getElementById('gallery');
            gallery.innerHTML = files.map(file => `
                <div class="canvas-card group bg-[#1c2128] rounded-xl overflow-hidden border border-transparent hover:border-blue-500 transition-all cursor-pointer relative">
                    <div class="aspect-[4/3] bg-[#eef2f6] flex items-center justify-center p-6 relative">
                        <img src="${file.name}" class="max-w-full max-h-full object-contain shadow-sm" loading="lazy">
                        <div class="copy-overlay absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 transition-opacity">
                            <button onclick="copyLink(event, '${file.name}')" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2">
                                üìã Copy Link
                            </button>
                        </div>
                    </div>
                    <div class="p-3">
                        <p class="text-[13px] font-medium truncate text-gray-300">${file.name}</p>
                        <p class="text-[11px] text-gray-500 uppercase mt-1">${file.name.split('.').pop()}</p>
                    </div>
                </div>
            `).join('');
        }

        function copyLink(e, fileName) {
            e.stopPropagation();
            // Fix l·ªói URL: l·∫•y domain hi·ªán t·∫°i + path
            const url = window.location.origin + window.location.pathname.replace('index.html', '') + fileName;
            
            navigator.clipboard.writeText(url).then(() => {
                const toast = document.getElementById('toast');
                toast.classList.remove('opacity-0');
                setTimeout(() => toast.classList.add('opacity-0'), 2000);
            });
        }

        // Search Logic
        document.getElementById('searchInput').oninput = (e) => {
            const val = e.target.value.toLowerCase();
            const filtered = allFiles.filter(f => f.name.toLowerCase().includes(val));
            render(filtered);
        };

        // Filter Logic
        function filterFiles(tag) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.replace('bg-blue-600', 'bg-[#1c2128]'));
            event.target.classList.replace('bg-[#1c2128]', 'bg-blue-600');
            
            if (tag === 'all') return render(allFiles);
            const filtered = allFiles.filter(f => f.name.toLowerCase().includes(tag));
            render(filtered);
        }

        init();
    </script>
</body>
</html>
