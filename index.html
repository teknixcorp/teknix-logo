<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teknix Logo Assets</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = { darkMode: 'class' }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; transition: background-color 0.3s; }
        .canvas-card:hover .hover-actions { opacity: 1; }
        .modal { display: none; }
        .modal.open { display: flex; }
        #bgImageLayer { pointer-events: none; transition: all 0.3s; }
    </style>
</head>
<body class="bg-gray-50 dark:bg-[#0e1217] text-gray-900 dark:text-gray-100 min-h-screen">

    <div class="max-w-7xl mx-auto px-6 py-10">
        <header class="flex justify-between items-start md:items-center mb-10 border-b dark:border-gray-800 pb-8 gap-4">
            <div>
                <h1 class="text-3xl font-bold mb-2 tracking-tight text-blue-600 dark:text-blue-500">TEKNIX LOGO EXPLORER</h1>
                <p id="subHeader" class="text-gray-500 dark:text-gray-400 text-sm font-medium"></p>
            </div>
            <div class="flex flex-col md:flex-row gap-2">
                <select id="langSwitch" onchange="changeLang(this.value)" class="bg-white dark:bg-[#1c2128] border border-gray-200 dark:border-gray-700 rounded-xl px-3 py-2 text-xs font-bold focus:ring-2 ring-blue-500 outline-none cursor-pointer">
                    <option value="en">üá∫üá∏ EN</option>
                    <option value="vi">üáªüá≥ VIE</option>
                </select>
                <button onclick="toggleTheme()" class="p-3 rounded-xl bg-white dark:bg-[#1c2128] border border-gray-200 dark:border-gray-700 hover:ring-2 ring-blue-500 transition shadow-sm font-semibold text-[10px] tracking-wider whitespace-nowrap">
                    <span class="dark:hidden" data-i18n="themeDark">üåô DARK MODE</span>
                    <span class="hidden dark:inline" data-i18n="themeLight">‚òÄÔ∏è LIGHT MODE</span>
                </button>
            </div>
        </header>

        <div class="flex flex-col md:flex-row gap-4 mb-8">
            <div class="relative flex-1">
                <input type="text" id="searchInput" data-i18n-placeholder="searchPlaceholder" 
                    class="w-full bg-white dark:bg-[#1c2128] border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 ring-blue-500 transition shadow-sm">
            </div>
            <div class="flex gap-2 overflow-x-auto pb-1" id="filterTabs">
                <button onclick="filterFiles('all', this)" class="tab-btn bg-blue-600 text-white px-6 py-3 rounded-xl text-xs font-bold shadow-md uppercase tracking-wider" data-i18n="filterAll">All</button>
                <button onclick="filterFiles('white', this)" class="tab-btn bg-white dark:bg-[#1c2128] border border-gray-300 dark:border-gray-700 px-6 py-3 rounded-xl text-xs font-bold hover:bg-gray-100 dark:hover:bg-gray-700 transition shadow-sm uppercase tracking-wider">White</button>
                <button onclick="filterFiles('blue', this)" class="tab-btn bg-white dark:bg-[#1c2128] border border-gray-300 dark:border-gray-700 px-6 py-3 rounded-xl text-xs font-bold hover:bg-gray-100 dark:hover:bg-gray-700 transition shadow-sm uppercase tracking-wider">Blue</button>
                <button onclick="filterFiles('full-color', this)" class="tab-btn bg-white dark:bg-[#1c2128] border border-gray-300 dark:border-gray-700 px-6 py-3 rounded-xl text-xs font-bold hover:bg-gray-100 dark:hover:bg-gray-700 transition shadow-sm uppercase tracking-wider" data-i18n="filterColor">Color</button>
            </div>
        </div>

        <div id="gallery" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-6"></div>
    </div>

    <div id="previewModal" class="modal fixed inset-0 bg-black/90 items-center justify-center p-4 z-50 backdrop-blur-sm">
        <div class="bg-white dark:bg-[#1c2128] rounded-2xl max-w-5xl w-full max-h-[90vh] flex flex-col overflow-hidden relative shadow-2xl border dark:border-gray-800">
            <div class="p-4 border-b dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-[#1c2128]">
                <div class="flex items-center gap-3">
                    <span class="bg-blue-600 text-white text-[10px] font-bold px-2 py-1 rounded tracking-widest uppercase" data-i18n="previewTag">PREVIEW</span>
                    <span id="modalFileName" class="font-mono text-sm truncate max-w-[200px] md:max-w-md opacity-70 italic">filename.svg</span>
                </div>
                <button onclick="closeModal()" class="w-8 h-8 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition">‚úï</button>
            </div>

            <div class="flex flex-col md:flex-row flex-1 overflow-hidden">
                <div id="previewCanvas" class="flex-1 bg-[#eef2f6] flex items-center justify-center p-12 relative transition-colors overflow-hidden shadow-inner">
                    <div id="bgImageLayer" class="absolute inset-0 bg-cover bg-center opacity-0 transition-opacity duration-500 scale-105"></div>
                    <img id="modalImage" src="" class="max-w-full max-h-full object-contain z-10 drop-shadow-2xl transition-all duration-300">
                </div>

                <div class="w-full md:w-80 p-6 border-l dark:border-gray-700 bg-gray-50 dark:bg-[#1c2128] flex flex-col gap-8">
                    <div>
                        <label class="block text-[11px] font-bold uppercase tracking-[0.15em] text-gray-400 mb-4" data-i18n="bgTestColor">TEST BACKGROUND COLOR</label>
                        <div class="grid grid-cols-5 gap-3">
                            <button onclick="setPreviewBg('#eef2f6')" class="w-9 h-9 rounded-lg border-2 border-transparent bg-[#eef2f6] hover:scale-110 transition shadow-sm"></button>
                            <button onclick="setPreviewBg('#ffffff')" class="w-9 h-9 rounded-lg border-2 border-white bg-white hover:scale-110 transition shadow-sm"></button>
                            <button onclick="setPreviewBg('#1a202c')" class="w-9 h-9 rounded-lg border-2 border-transparent bg-gray-900 hover:scale-110 transition shadow-sm"></button>
                            <button onclick="setPreviewBg('#3b82f6')" class="w-9 h-9 rounded-lg border-2 border-transparent bg-blue-500 hover:scale-110 transition shadow-sm"></button>
                            <div class="relative w-9 h-9 rounded-lg border-2 border-transparent overflow-hidden hover:scale-110 transition shadow-sm bg-gradient-to-tr from-yellow-400 via-red-500 to-purple-500">
                                <input type="color" oninput="setPreviewBg(this.value)" class="absolute inset-[-10px] w-[200%] h-[200%] cursor-pointer opacity-0">
                            </div>
                        </div>
                    </div>

                    <div>
                        <div class="flex justify-between items-center mb-4 text-gray-400">
                            <label class="text-[11px] font-bold uppercase tracking-[0.15em]" data-i18n="bgMockup">MOCKUP BACKGROUND</label>
                            <button onclick="resetPreview()" class="text-blue-500 hover:underline text-[11px] font-bold flex items-center gap-1 transition uppercase" data-i18n="reset">RESET</button>
                        </div>
                        <div class="flex flex-col gap-3">
                            <label class="w-full flex flex-col items-center px-4 py-3 bg-white dark:bg-gray-900 text-gray-400 rounded-xl border border-dashed border-gray-300 dark:border-gray-700 cursor-pointer hover:border-blue-500 hover:text-blue-500 transition group">
                                <span class="text-[10px] font-bold tracking-widest group-hover:scale-105 transition-transform uppercase" data-i18n="uploadBtn">üìÇ UPLOAD IMAGE</span>
                                <input type="file" id="bgUpload" class="hidden" accept="image/*" onchange="handleFileUpload(this)">
                            </label>
                            <div class="text-center text-[10px] text-gray-500 font-bold opacity-50 uppercase" data-i18n="orDivider">‚Äî OR ‚Äî</div>
                            <input type="text" id="bgImgInput" onchange="setPreviewBgImg(this.value)" data-i18n-placeholder="urlPlaceholder" 
                                class="w-full text-xs bg-white dark:bg-gray-900 border dark:border-gray-700 p-3 rounded-xl focus:ring-2 ring-blue-500 outline-none shadow-sm transition">
                        </div>
                    </div>

                    <div class="mt-auto flex flex-col gap-3 font-bold">
                        <button id="modalCopyBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-xl flex items-center justify-center gap-2 transition shadow-lg active:scale-95 text-xs uppercase" data-i18n="copyLinkBtn">üîó COPY LOGO LINK</button>
                        <a id="modalDownloadBtn" download class="w-full bg-white dark:bg-gray-800 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 py-4 rounded-xl text-center transition shadow-sm text-xs uppercase" data-i18n="downloadBtn">‚¨áÔ∏è DOWNLOAD TO PC</a>
                    </div>
                </div>
            </div>

            <button onclick="prevImage()" class="absolute left-4 top-1/2 -translate-y-1/2 bg-white/10 hover:bg-white/30 p-5 rounded-full text-white transition backdrop-blur-md z-20">‚ùÆ</button>
            <button onclick="nextImage()" class="absolute right-[336px] top-1/2 -translate-y-1/2 bg-white/10 hover:bg-white/30 p-5 rounded-full text-white transition backdrop-blur-md z-20 hidden md:block">‚ùØ</button>
        </div>
    </div>

    <div id="toast" class="fixed bottom-10 left-1/2 -translate-x-1/2 bg-blue-600 text-white px-8 py-4 rounded-full shadow-2xl opacity-0 transition-all transform translate-y-4 pointer-events-none z-[100] font-bold tracking-widest text-xs uppercase">
        üöÄ LINK COPIED!
    </div>

    <script>
        const REPO = 'teknixcorp/teknix-logo';
        let files = [], currentIdx = -1;

        const i18n = {
            en: {
                subHeader: "Official company logo repository for employees.",
                themeDark: "üåô DARK MODE",
                themeLight: "‚òÄÔ∏è LIGHT MODE",
                searchPlaceholder: "Search logo name...",
                filterAll: "All",
                filterColor: "Color",
                previewTag: "PREVIEW",
                cardView: "Click to View",
                bgTestColor: "TEST BACKGROUND COLOR",
                bgMockup: "MOCKUP BACKGROUND",
                reset: "RESET",
                uploadBtn: "üìÇ UPLOAD IMAGE",
                orDivider: "‚Äî OR ‚Äî",
                urlPlaceholder: "Paste image URL...",
                copyLinkBtn: "üîó COPY LOGO LINK",
                downloadBtn: "‚¨áÔ∏è DOWNLOAD TO PC",
                toast: "üöÄ LINK COPIED!"
            },
            vi: {
                subHeader: "Th∆∞ vi·ªán logo ch√≠nh th·ª©c d√†nh cho nh√¢n vi√™n c√¥ng ty.",
                themeDark: "üåô CH·∫æ ƒê·ªò T·ªêI",
                themeLight: "‚òÄÔ∏è CH·∫æ ƒê·ªò S√ÅNG",
                searchPlaceholder: "T√¨m ki·∫øm t√™n logo...",
                filterAll: "T·∫•t c·∫£",
                filterColor: "M√†u",
                previewTag: "XEM TH·ª¨",
                cardView: "Nh·∫•n ƒë·ªÉ xem",
                bgTestColor: "M√ÄU N·ªÄN TH·ª¨ NGHI·ªÜM",
                bgMockup: "·∫¢NH N·ªÄN MOCKUP",
                reset: "ƒê·∫∂T L·∫†I",
                uploadBtn: "üìÇ T·∫¢I ·∫¢NH T·ª™ M√ÅY",
                orDivider: "‚Äî HO·∫∂C ‚Äî",
                urlPlaceholder: "D√°n link ·∫£nh (URL)...",
                copyLinkBtn: "üîó SAO CH√âP LINK LOGO",
                downloadBtn: "‚¨áÔ∏è T·∫¢I XU·ªêNG M√ÅY",
                toast: "üöÄ ƒê√É COPY LINK!"
            }
        };

        let currentLang = localStorage.getItem('lang') || 'en';

        function updateUI() {
            const t = i18n[currentLang];
            document.getElementById('subHeader').textContent = t.subHeader;
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (t[key]) el.textContent = t[key];
            });
            document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
                const key = el.getAttribute('data-i18n-placeholder');
                if (t[key]) el.placeholder = t[key];
            });
            document.getElementById('toast').textContent = t.toast;
            document.getElementById('langSwitch').value = currentLang;
            if(files.length > 0) render(files);
        }

        function changeLang(lang) {
            currentLang = lang;
            localStorage.setItem('lang', lang);
            updateUI();
        }

        async function init() {
            updateUI();
            try {
                const res = await fetch(`https://api.github.com/repos/${REPO}/contents/`);
                const data = await res.json();
                files = data.filter(f => f.name.match(/\.(svg|png|jpg|jpeg)$/i));
                render(files);
            } catch (e) { console.error(e); }
        }

        function render(list) {
            const gallery = document.getElementById('gallery');
            const viewTxt = i18n[currentLang].cardView;
            gallery.innerHTML = list.map((f, i) => `
                <div onclick="openModal(${i})" class="canvas-card group bg-white dark:bg-[#1c2128] rounded-2xl overflow-hidden border border-gray-100 dark:border-gray-800 hover:border-blue-500 transition-all cursor-pointer relative shadow-sm hover:shadow-2xl">
                    <div class="aspect-[4/3] bg-[#f1f5f9] dark:bg-[#24292e] flex items-center justify-center p-10 relative">
                        <img src="${f.name}" class="max-w-full max-h-full object-contain z-0 group-hover:scale-110 transition-all duration-500">
                        <div class="hover-actions absolute inset-0 bg-black/60 opacity-0 flex items-center justify-center transition-opacity z-10">
                            <span class="bg-white text-black px-6 py-2.5 rounded-full font-bold text-[10px] uppercase tracking-[0.2em] shadow-xl">${viewTxt}</span>
                        </div>
                    </div>
                    <div class="p-4 border-t dark:border-gray-800 flex justify-between items-center bg-gray-50/50 dark:bg-[#1c2128]">
                        <p class="text-[11px] font-bold truncate text-gray-500 dark:text-gray-400 uppercase pr-2">${f.name}</p>
                        <span class="text-[9px] font-black px-1.5 py-0.5 rounded bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400">${f.name.split('.').pop().toUpperCase()}</span>
                    </div>
                </div>
            `).join('');
        }

        const toggleTheme = () => document.documentElement.classList.toggle('dark');
        const setPreviewBg = (color) => document.getElementById('previewCanvas').style.backgroundColor = color;
        const setPreviewBgImg = (url) => {
            const layer = document.getElementById('bgImageLayer');
            if (url) { layer.style.backgroundImage = `url('${url}')`; layer.classList.replace('opacity-0', 'opacity-100'); }
        };
        const handleFileUpload = (input) => {
            const file = input.files[0];
            if (file) { const reader = new FileReader(); reader.onload = (e) => setPreviewBgImg(e.target.result); reader.readAsDataURL(file); }
        };
        const resetPreview = () => {
            document.getElementById('previewCanvas').style.backgroundColor = '#eef2f6';
            const layer = document.getElementById('bgImageLayer');
            layer.style.backgroundImage = 'none'; layer.classList.replace('opacity-100', 'opacity-0');
            document.getElementById('bgImgInput').value = ''; document.getElementById('bgUpload').value = '';
        };

        function openModal(index) {
            currentIdx = index;
            const file = files[index];
            const url = window.location.origin + window.location.pathname.replace('index.html', '') + file.name;
            document.getElementById('modalImage').src = file.name;
            document.getElementById('modalFileName').textContent = file.name;
            document.getElementById('modalDownloadBtn').href = file.name;
            document.getElementById('modalCopyBtn').onclick = () => copyText(url);
            document.getElementById('previewModal').classList.add('open');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() { document.getElementById('previewModal').classList.remove('open'); document.body.style.overflow = ''; }
        const nextImage = () => openModal((currentIdx + 1) % files.length);
        const prevImage = () => openModal((currentIdx - 1 + files.length) % files.length);

        function copyText(text) {
            navigator.clipboard.writeText(text);
            const t = document.getElementById('toast');
            t.classList.replace('opacity-0', 'opacity-100');
            t.classList.replace('translate-y-4', 'translate-y-0');
            setTimeout(() => { t.classList.replace('opacity-100', 'opacity-0'); t.classList.replace('translate-y-0', 'translate-y-4'); }, 2000);
        }

        document.getElementById('searchInput').oninput = (e) => {
            const val = e.target.value.toLowerCase();
            render(files.filter(f => f.name.toLowerCase().includes(val)));
        };

        function filterFiles(tag, el) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('bg-blue-600', 'text-white'));
            el.classList.add('bg-blue-600', 'text-white');
            render(tag === 'all' ? files : files.filter(f => f.name.toLowerCase().includes(tag)));
        }

        document.addEventListener('keydown', (e) => {
            if (!document.getElementById('previewModal').classList.contains('open')) return;
            if (e.key === 'ArrowRight') nextImage();
            if (e.key === 'ArrowLeft') prevImage();
            if (e.key === 'Escape') closeModal();
        });

        init();
    </script>
</body>
</html>
